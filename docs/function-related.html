<!doctype html>
<html lang="en">
  <head>
    <title>JavaScript/Function-related</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fundamental resources about HTML5 & friends.">
    <meta name="author" content="PictureElement (Marios Sofokleous)">
    <meta name="theme-color" content="#007f7f">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <!-- Main stylesheet -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Web app manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Scripts -->
    <script src="js/jquery.min.js" defer></script>
    <script src="js/popper.min.js" defer></script>
    <script src="js/bootstrap.min.js" defer></script>
    <script src="js/site.js" defer></script>
    <script src="js/run_prettify.js" defer></script>
    <script src="svg-with-js/js/fontawesome-all.min.js" defer></script>
  </head>
  <body>
    <!-- RETURN TO TOP BUTTON -->
    <button id="return-to-top" title="Return to top"><i style="color:white" class="fas fa-chevron-up"></i></button>
    <!-- SITE NAVIGATION -->
    <header class="navbar navbar-expand navbar-light bg-light flex-column flex-md-row">
      <!-- Logo -->
      <a class="navbar-brand" href="index.html">HTML5<span>Tech</span></a>
      <!-- Items -->
      <div class="flex-row">
        <ul class="navbar-nav flex-row">
          <li class="nav-item">
            <a class="nav-link" href="#">HTML</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">CSS</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="#">JAVASCRIPT <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="introduction.html">JQUERY</a>
          </li>
        </ul>
      </div>
      <!--
      <form class="flex-nowrap form-inline my-2 my-lg-0 ml-md-auto">
        <input class="form-control form-control-sm mr-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-sm btn-outline-success my-2 my-sm-0" type="submit"><i class="fas fa-search"></i></button>
      </form>
      -->
    </header>
    <div class="container-fluid">
      <div class="row d-flex">

        <div class="sidebar col-12 col-md-3 col-xl-2">
          <div class="text-center">
            <button class="more-btn btn btn-link d-md-none" type="button" data-toggle="collapse" data-target="#sidebarContent" aria-controls="sidebarContent" aria-label="Toggle sidebar navigation">
              MORE
            </button>
          </div>
          <nav class="sidebar-links collapse" id="sidebarContent">
            <div>
              <h5 class="sb-topic">Basic JS</h5>
              <ol class="sb-list">
                <li><a href="data-related.html">Data-related</a></li>
                <li><a href="dom.html">Document Object Model</a></li>
                <li><a href="object-related.html">Object-related</a></li>
                <li><a href="flow-control.html">Flow control</a></li>
                <li id="current"><a href="function-related.html">Function-related</a></li>
                <li><a href="expressions-and-operators.html">Expressions &amp; operators</a></li>
              </ol>
            </div>
            <div>
              <h5 class="sb-topic">Object-Oriented JS</h5>
              <ol class="sb-list">
                <li><a href="objects.html">Objects</a></li>
                <li><a href="functions.html">Functions</a></li> 
                <li><a href="classes.html">Classes</a></li>
              </ol>
            </div>
          </nav>
        </div>
        <!-- MAIN -->
        <main class="col-12 col-md-9 col-xl-8">
          <h1 class="text-left">Function-related</h1>
          <hr>
          <!-- CONTENT -->
          <div class="card content-card">
            <div class="card-header" role="tab" id="headingOne">
              <button class="content-btn btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-controls="collapseOne" aria-label="Toggle content" aria-expanded="false">
                Contents
              </button>
            </div>
            <div id="collapseOne" class="collapse" role="tabpanel" aria-labelledby="headingOne" data-parent="#accordion">
              <div class="card-body">
                <ol class="content-nav">
                  <li>
                    <a href="#1">Function types</a>
                    <ol>
                      <li><a href="#1-1">Regular functions</a></li>
                      <li><a href="#1-2">Function expressions</a></li>
                      <li><a href="#1-3">Immediately-invoked function expressions</a></li>
                      <li><a href="#1-4">Higher-order functions</a></li>
                      <li><a href="#1-5">Callback functions</a></li>
                      <li><a href="#1-6">Object methods</a></li>
                    </ol>
                  </li>
                  <li>
                    <a href="#2">Variable scope</a>
                    <ol>
                      <li><a href="#2-1">Introduction</a></li>
                      <li><a href="#2-2">Examples</a></li>
                      <li><a href="#2-3">const, let or var?</a></li>
                    </ol>
                  </li>
                  <li>
                    <a href="#3">Hoisting</a>
                    <ol>
                      <li><a href="#3-1">Introduction</a></li>
                      <li><a href="#3-2">Examples</a></li>
                    </ol>
                  </li>
                </ol>  
              </div>
            </div>
          </div>
          <!-- SECTION 1 -->
          <section>
            <h2 id="1" data-toggle="collapse" role="button" href="#accordion-1" aria-expanded="true" aria-controls="accordion-1">
              Function types
            </h2>
            <hr>
            <div id="accordion-1" class="collapse show">
              <p id="1-1"><u>Regular functions</u></p>
              <code class="syntax">function <i>myFunct</i>(<i>para1</i>, <i>para2</i>, ..., <i>paraN</i>) { ... }</code>
              <p id="1-2"><u>Function expressions</u></p>
              <p>
                The main difference between a function expression and a regular 
                function is the function name, which can be omitted in function 
                expressions to create anonymous functions. A function 
                expression can be used as a IIFE (Immediately Invoked Function 
                Expression) which runs as soon as it is defined.
              </p>
              <pre><code class="syntax">// Anonymous
var <i>foo</i> = function(<i>para1</i>, <i>para2</i>, ..., <i>paraN</i>) { ... }

// Named
var <i>foo</i> = function <i>myFunct</i>(<i>para1</i>, <i>para2</i>, ..., <i>paraN</i>) { ... }</code></pre>
              <p id="1-3"><u>Immediately-invoked function expressions</u></p>
              <p>
                IIFE (Immediately Invoked Function Expression) is a JavaScript 
                function that runs as soon as it is defined.
              </p>
              <pre><code class="syntax">// Anonymous
(function() {
    ...
})();

// Named
(function <i>myFunct</i>() {
    ...
})();

// Assigning the IIFE to a variable does not store it but its result.
var <i>result</i> = (function() {
    ...
})();</code></pre>
              <p id="1-4"><u>Higher-order functions</u></p>
              <p>
                A function that returns another function or takes other 
                functions as arguments is known as higher-order function.
              </p>
              <pre><code class="syntax">// Higher-order function that returns another function
function <i>myFunct</i>(<i>para1</i>, <i>para2</i>, ..., <i>paraN</i>)
    ...
    return function() {
        ...
    };
}

// Higher-order function that takes other functions as arguments
function <i>myFunct</i>(<i>para1</i>, <i>para2</i>, ..., <i>paraN</i>) {
    ...
}</code></pre>
              <p id="1-5"><u>Callback functions</u></p>
              <p>
                A function that is passed as an argument into another function 
                is called a callback function. 
              </p>
              <pre><code class="syntax">// Higher-order function
function <i>myFunct</i>(<i>callback</i>) {
    ...
}

// Callback function
function <i>myCallback</i>() {
    ...
}

<i>myFunct</i>(<i>myCallback</i>);</code></pre>
              <p id="1-6"><u>Object methods</u></p>
              <p>
                A JS method is a function that is encapsulated within an 
                object. Every method is actually a property containing a 
                function definition.
              </p> 
              <pre><code class="syntax">// "bio" object
var bio = {
    "name": "Marios Sofokleous",
    "role": "Web Developer",
    "age": "27"
};

// Object method
bio.display = function() {
    console.log(bio.name + ", " + bio.role + ", " + bio.age);
}

// Invoke method
bio.display(); // "Marios Sofokleous, Web Developer, 27"</code></pre>
              <p><mark>Example 1: Display the mouse coordinates click anywhere on the page</mark></p>
              <pre class="prettyprint linenums"><code>//Empty array
var clickLocations = [];

// Regular function
function logClicks(x, y) {
    clickLocations.push({x: x, y: y});
    console.log('x location: ' + x + '; y location: ' + y);
}

// "document" refers to the entire web page (DOM)
// 
// The anonymous function that gets passed into the .addEventListener() method 
// is called an event handler and runs every time a user clicks on the page.
// 
// Sometimes inside an event handler function you might see a parameter 
// specified with a name such as "event", "evt", or simply "e". This is called the 
// event object, and it is automatically passed to event handlers to provide 
// extra features and information. In our case, the event object gives us 
// information regarding the coordinates of the mouse pointer.
document.addEventListener('click', function(e) {
    logClicks(e.screenX, e.screenY);
});</code></pre>
              <p>The result after some clicks would be like:</p>
              <pre class="prettyprint linenums"><code>x location: 385; y location: 762
x location: 39; y location: 39
x location: 21; y location: 30
x location: 6; y location: 1515
x location: 352; y location: 1522</code></pre>
              <p><mark>Example 2: Return statements</mark></p>
              <pre class="prettyprint linenums"><code>// String
var str = "Marios Peter Andrew John";

// The split() function returns an array of strings
var names = str.split(" "); // ["Marios", "Peter", "Andrew", "John"]</code></pre>
              <p><mark>Example 3: Return statements</mark></p>
              <pre class="prettyprint linenums"><code>// "work" object
var work = {
    "jobs": [{
            "employer": "Google",
            "title": "Web developer",
            "location": "California, USA",
            "dates": "Feb 2014 - Current"
        },
        {
            "employer": "Yandex",
            "title": "Software Engineer",
            "location": "Moscow, Russia",
            "dates": "May 2013 - Jan 2014"
        }
    ]
};


// The locationizer function takes in the "work" object and returns an array of 
// the locations in the object
function locationizer(work_obj) {
    // Empty array
    var locations = [];

    for(var job of work_obj.jobs) {
        locations.push(job.location);
    }

    // Return "locations" array
    return locations;
}

console.log(locationizer(work)); // ["California, USA", "Moscow, Russia"]</code></pre>
              <p><mark>Example 4: Internationalized name format</mark></p>
              <p>
                The <code>inName()</code> function replaces the original name 
                stored in <code>bio</code> object with an international 
                version. Then it updates the DOM accordingly.
              </p>
              <p><u>HTML</u></p>
              <pre class="prettyprint linenums"><code>&lt;!DOCTYPE html>
&lt;html>
    &lt;head>
        &lt;meta charset="utf-8">
        &lt;title>Basic JS&lt;/title>
    &lt;/head>
    &lt;body>
        &lt;h1 id="fullName">&lt;/h1>
        &lt;!-- Execute JavaScript when a button is clicked -->
        &lt;button type="button" onclick="inName();">
            Click to internationalize your name
        &lt;/button>
        &lt;!-- This script runs when the page loads (jQuery) --> 
        &lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">&lt;/script>
        &lt;!-- This script runs when the page loads (main.js) -->
        &lt;script src="main.js">&lt;/script>
        &lt;!-- This script runs only when the button is clicked (Click event) -->
        &lt;script>
          function inName() {
              // Extract and capitalize first character (first name)
              var char = bio.name.slice(0, 1);
              char = char.toUpperCase();

              // Full name (array)
              var fullName = bio.name.split(" ");
              // First name to lower case
              fullName[0] = fullName[0].toLowerCase();
              // Last name to upper case
              fullName[1] = fullName[1].toUpperCase();

              // Format first name accordingly
              fullName[0] = char + fullName[0].slice(1);

              // Change value stored in the bio object 
              bio.name = fullName[0] + " " + fullName[1];

              // jQuerry's replaceWith() method that replaces the content of 
              // the selected element(s)
              $("#fullName").replaceWith("&lt;h1>" + bio.name + "&lt;/h1>");
          }
        &lt;/script>
    &lt;/body>
&lt;/html></code></pre>
              <p><u>JavaScript</u></p>
              <pre class="prettyprint linenums"><code>// bio object
var bio = {
    "name": "Marios Sofokleous",
    "role": "Web Developer"
};

// jQuerry's append() method that inserts content to the end of the selected
// element(s).
$("#fullName").append(bio.name);</code></pre>
              <p><u>Result</u></p>
              <iframe height="150px" width="100%" src="demos/3.html">
                <p>Your browser does not support iframes.</p>
              </iframe>
              <p><mark>Example 5: Alphabetizer</mark></p>
              <p>
                The <code>alphabetizer()</code> function takes in a 
                <code>names</code> array in "firstname lastname" format and 
                returns an alphabetized array of names in "lastname firstname" 
                format. 
              </p>
              <pre class="prettyprint linenums"><code>// Input array
const names = [
    "Waylon Dalton",
    "Justine Henderson",
    "Abdullah Lang",
    "Marcus Cruz",
    "Thalia Cobb",
    "Mathias Little",
    "Eddie Randolph",
    "Angela Walker"
];

function alphabetizer(names) {
    // Alphabetized array
    var newArray = [];

    // Write names in lastname, firstname format
    var parsedName;
    for(let name of names) {
        parsedName = name.split(" "); // parsedName = ["Marios", "Sofokleous"]
        newArray.push(parsedName[1] + " " + parsedName[0]);  
    }

    // Sort the elements in place
    newArray.sort();

    // Return the alphabetized array
    return newArray;
}

// Output array
const namesSorted = alphabetizer(names);

console.log(namesSorted);
// ["Cobb Thalia", "Cruz Marcus", "Dalton Waylon", "Henderson Justine", "Lang Abdullah", "Little Mathias", "Randolph Eddie", "Walker Angela"]</code></pre>
            </div>
          </section>
          <!-- SECTION 2 -->
          <section>
            <h2 id="2" data-toggle="collapse" role="button" href="#accordion-2" aria-expanded="true" aria-controls="accordion-2">
              Variable scope
            </h2>
            <hr>
            <div id="accordion-2" class="collapse show">
              <h3 id="2-1">Introduction</h3>
              <p>
                Unlike C, and the rest of the C family, JavaScript includes 
                function-level scope, which means that variables declared 
                within a function are only available inside that function.
              </p>
              <h3 id="2-2">Examples</h3>
              <p><mark>Example 1</mark></p>
              <pre class="prettyprint linenums"><code>// Global variable
var outsideExample1 = "First string";

function example() {
    // A new local variable is created
    var outsideExample1 = "Second string";
}

example();

console.log(outsideExample1); // "First string"</code></pre>
              <p><mark>Example 2</mark></p>
              <pre class="prettyprint linenums"><code>// Global variable
var outsideExample2 = "First string";

function example() {
    // The value of outsideExample2 is overwritten
    outsideExample2 = "Second string";
}

example();

console.log(outsideExample2); // "Second string"</code></pre>
              <p><mark>Example 3</mark></p>
              <pre class="prettyprint linenums"><code>// Global variable
var foo = 1;

// Only functions create new scopes
function alpha() {
    // A new local 'foo' is created
    var foo = 10;
    alert(foo); // 10
}

alpha(); // 10

alert(foo); // 1

// Blocks do not create new scopes
if (true) {
    // The value of global 'foo' is overwritten
    var foo = 5;
}

alert(foo); // 5

// To create a temporary scope within a block, do the following:
if (true) {
    // IIFE
    (function() {
        // A new local 'foo' is created
        var foo = 6;
        alert(foo); // 6
    }());
}

alert(foo); // 5</code></pre>
              <h3 id="2-3">const, let or var?</h3>
              <p>
                <code>var</code> has global and functional scope while 
                <code>const</code> and <code>let</code> have block scope. Do 
                not use <code>const</code> if you weren't meaning to declare a 
                constant. Once a variable has been declared using 
                <code>const</code> it cannot be redeclared or reassigned. Also
                <code>const</code> variables must be declared with an initial 
                value.
              </p>
              <p><mark>Example 1: "const" cannot be redeclared or reassigned</mark></p>
              <pre class="prettyprint linenums"><code>const foo = "marios";
foo = "helen";
// Uncaught TypeError: Assignment to constant variable.</code></pre>
              <p><mark>Example 2: "const" cannot be redeclared or reassigned</mark></p>
              <pre class="prettyprint linenums"><code>const foo = {name: "marios"};
foo = {name: "helen"};
// Uncaught TypeError: Assignment to constant variable.

// Bare in mind that object keys and values are not protected
foo.name = "helen";
// "helen"
foo.age = 40;
// 40</code></pre>
              <p><mark>Example 3: "const" variables must be declared with an initial value</mark></p>
              <pre class="prettyprint linenums"><code>var x;
let y;
const z;
// Uncaught SyntaxError: Missing initializer in const declaration</code></pre>
            </div>
          </section>
          <!-- SECTION 3 -->
          <section>
            <h2 id="3" data-toggle="collapse" role="button" href="#accordion-3" aria-expanded="true" aria-controls="accordion-3">
              Hoisting
            </h2>
            <hr>
            <div id="accordion-3" class="collapse show">
              <h3 id="3-1">Introduction</h3>
              <p>
                Hoisting is JavaScript's default behavior of moving 
                declarations to the top. Only declarations are hoisted, not 
                initializations.
              </p>
              <h3 id="3-2">Examples</h3>
              <p><mark>Example 1</mark></p>
              <pre class="prettyprint linenums"><code>x = 5;
var y = x + 10;
var x;
var z = y + 2;</code></pre>
              <pre class="prettyprint linenums"><code>var x, y, z;
x = 5;
y = x + 10;
z = y + 2;</code></pre>
              <p><mark>Example 2</mark></p>
              <pre class="prettyprint linenums"><code>var x = 2;
var y = 3;
alert("x = " + x);
alert("y = " + y);</code></pre>
              <pre class="prettyprint linenums"><code>var x, y;
x = 2;
y = 3;
alert("x = " + x); // "x = 2"
alert("y = " + y); // "y = 3"</code></pre>
              <p><mark>Example 3</mark></p>
              <pre class="prettyprint linenums"><code>var x = 2;
alert("x = " + x);
alert("y = " + y);
var y = 3;</code></pre>
              <pre class="prettyprint linenums"><code>var x, y;
x = 2;
alert("x = " + x); // "x = 2"
alert("y = " + y); // "y = undefined"
y = 3;</code></pre>
              <p><mark>Example 4</mark></p>
              <pre class="prettyprint linenums"><code>var foo1 = function() {
    alert("2");
};

var foo2 = function() {
    alert("3");
};</code></pre>
              <p>The code above is actually interpreted like this:</p>
              <pre class="prettyprint linenums"><code>var foo1, foo2;

foo1 = function() {
    alert("2");
};

foo2 = function() {
    alert("3");
};</code></pre>
              <p><mark>Example 5</mark></p>
              <pre class="prettyprint linenums"><code>var foo1 = function() {
    alert("2");
};

console.log(typeof foo1);
console.log(typeof foo2);

var foo2 = function() {
    alert("3");
};

console.log(typeof foo2);</code></pre>
              <p>The code above is actually interpreted like this:</p>
              <pre class="prettyprint linenums"><code>var foo1, foo2;

foo1 = function() {
    alert("2");
};

console.log(typeof foo1); // function
console.log(typeof foo2); // undefined

foo2 = function() {
    alert("3");
};

console.log(typeof foo2); // function</code></pre>
              <p><mark>Example 6</mark></p>
              <p>
                For regular functions (i.e. <code>function <i>myFunct</i>(
                <i>para1</i>, <i>para2</i>, ..., <i>paraN</i>) { ... }</code>), 
                both the function declaration and definition (the actual 
                instructions inside the function) get hoisted.
              </p>
              <pre class="prettyprint linenums"><code>function foo1() {
    alert("2");
};

console.log(typeof foo1);
console.log(typeof foo2);

function foo2() {
    alert("3");
};</code></pre>
              <p>The code above is actually interpreted like this:</p>
              <pre class="prettyprint linenums"><code>function foo1() {
    alert("2");
};

function foo2() {
    alert("3");
};
        
console.log(typeof foo1); // function
console.log(typeof foo2); // function</code></pre>
              <div>
                <p class="danger align-middle">
                  To avoid bugs, always declare all variables at the beginning 
                  of every scope. You should have exactly one <code>var</code> 
                  statement per scope, and that it be at the top. If you force 
                  yourself to do this, you will never have hoisting-related 
                  confusion.
                </p>
              </div>
            </div>
          </section>
        </main>
        <!-- d-none d-xl-block d-xl-2: Hide the element for all screen sizes except on xlarge devices -->
        <div class="ad-space d-none d-xl-block col-xl-2">
          <div class="text-center">
            <h5>Ad1</h5>
            <img src="images/150x100.png">
            <h5>Ad2</h5>
            <img src="images/150x100.png">
            <h5>Ad3</h5>
            <img src="images/150x100.png">
            <h5>Ad4</h5>
            <img src="images/150x100.png">
            <h5>Ad5</h5>
            <img src="images/150x100.png">
            <h5>Ad6</h5>
            <img src="images/150x100.png">
          </div>
        </div>
      </div>
    </div> <!-- END OF CONTAINER -->

    <!-- FOOTER -->
    <footer class="text-center text-muted">
        <div class="license">
          <div>
              <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img width="100px" alt="CC BY-SA 4.0 License" style="border-width:0" src="images/cc-by-sa-4.svg" /></a><br>Documentation is licensed under the <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0 License</a>.
          </div>
          <div>
              <a rel="license" href="https://www.gnu.org/licenses/agpl-3.0"><img width="80px" alt="GNU AGPLv3 License" style="border-width:0" src="images/agpl-v3.svg" /></a><br><a href="https://github.com/PictureElement/html5tech">Source code</a> is licensed under the <a rel="license" href="https://www.gnu.org/licenses/agpl-3.0">AGPL v3 License</a>.
          </div>
        </div>
        <div class="copyright">
            Design &amp; development by 
            <a href="https://pictureelement.github.io/portfolio-2">
            PictureElement</a> (Marios Sofokleous).
        </div>
    </footer>
  </body>
</html>