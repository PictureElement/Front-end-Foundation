<!doctype html><html lang="en"><head><title>JavaScript/Classes</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Fundamental resources about HTML5 & friends."><meta name="author" content="PictureElement (Marios Sofokleous)"><meta name="theme-color" content="#007f7f"><style type="text/css">@-ms-viewport{width:device-width}@media (min-width:768px){.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.d-md-none{display:none!important}}@media (min-width:1200px){.col-xl-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.d-xl-block{display:block!important}}@media (min-width:768px){.flex-md-row{-ms-flex-direction:row!important;flex-direction:row!important}}@media screen and (min-width:768px){main{padding:1rem 1rem 1rem 2rem!important}div.ad-space{padding:1rem}header{-webkit-box-shadow:0 .25rem .5rem -.1rem rgba(0,32,128,.2);box-shadow:0 .25rem .5rem -.1rem rgba(0,32,128,.2)}.navbar-brand{padding-bottom:0}div.sidebar{margin:1rem 0;padding:0 1rem;border-right:1px solid #eee}ol.sb-list li{color:#007f7f;font-size:.7rem;font-weight:200}ol.sb-list a{display:block;color:#007f7f;font-weight:200}li#current,li#current a{font-style:italic;color:#333}h5.sb-topic{font-size:.8rem;color:#333;font-weight:300}}@media screen and (min-width:610px){html{font-size:100%}}@media screen and (min-width:700px){html{font-size:112.5%}}@media screen and (min-width:1090px){html{font-size:125%}}@media screen and (min-width:1300px){.container-fluid{max-width:1300px}}:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#868e96;--gray-dark:#343a40;--primary:#007bff;--secondary:#868e96;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--font-family-monospace:"SFMono-Regular",Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar}header,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h5{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}ol,ul{margin-top:0;margin-bottom:1rem}ol ol{margin-bottom:0}a{color:#007bff;text-decoration:none;background-color:transparent;-webkit-text-decoration-skip:objects}code,pre{font-family:monospace,monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar}img{vertical-align:middle;border-style:none}[role=button],a,button{-ms-touch-action:manipulation;touch-action:manipulation}button{border-radius:0}button{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button{overflow:visible}button{text-transform:none}button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}h1,h2,h3,h5{margin-bottom:.5rem;font-family:inherit;font-weight:500;line-height:1.2;color:inherit}h1{font-size:2.5rem}h2{font-size:2rem}h3{font-size:1.75rem}h5{font-size:1.25rem}hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}code{padding:.2rem .4rem;font-size:90%;color:#bd4147;background-color:#f8f9fa;border-radius:.25rem}pre{display:block;margin-top:0;margin-bottom:1rem;font-size:90%;color:#212529}pre code{padding:0;font-size:inherit;color:inherit;background-color:transparent;border-radius:0}.container-fluid{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col-12,.col-md-3,.col-md-9,.col-xl-2,.col-xl-8{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.btn{display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}.btn-link{font-weight:400;color:#007bff;background-color:transparent}.collapse{display:none}.collapse.show{display:block}.dropdown{position:relative}.dropdown-toggle::after{display:inline-block;width:0;height:0;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background:0 0;border:0}.nav-link{display:block;padding:.5rem 1rem}.navbar{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;padding:.5rem 1rem}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-nav{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-expand{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .active>.nav-link{color:rgba(0,0,0,.9)}.card{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card-body{-ms-flex:1 1 auto;flex:1 1 auto;padding:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.align-top{vertical-align:top!important}.d-none{display:none!important}.d-inline-block{display:inline-block!important}.d-flex{display:-ms-flexbox!important;display:flex!important}.flex-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-column{-ms-flex-direction:column!important;flex-direction:column!important}.sr-only{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;-webkit-clip-path:inset(50%);clip-path:inset(50%);border:0}.text-left{text-align:left!important}.text-center{text-align:center!important}pre.prettyprint{padding:2px;border:1px solid #888}html{font-size:75%}*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}body{font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-weight:400;margin:0;color:#333;text-align:left;font-size:1rem;background:#eff1f5}h1{font-weight:300}h2,h3,h5{font-weight:300}pre.prettyprint{width:100%;border-left:5px solid #007f7f!important;background:#eff1f5;padding-top:1rem!important;padding-bottom:1rem!important}button#return-to-top{display:none;position:fixed;bottom:20px;right:20px;border:none;outline:0;background-color:rgba(0,127,127,.8);width:48px;height:48px;-webkit-border-radius:50%;border-radius:50%;z-index:2}button#return-to-top i{color:#fff;font-size:20px}header{background:#fff}.nav-link{letter-spacing:2px}.dropdown-menu{z-index:1021}main{background:#fff;-webkit-box-shadow:0 .4rem .8rem -.1rem rgba(0,32,128,.1),0 0 0 1px #f0f2f7;box-shadow:0 .4rem .8rem -.1rem rgba(0,32,128,.1),0 0 0 1px #f0f2f7}main section:first-of-type{margin-top:1rem!important}section h2{text-decoration:none}h2 a{color:#333}div.card-body ol{counter-reset:section;list-style-type:none;padding-left:20px}div.card-body li::before{counter-increment:section;content:counters(section,".") " "}ol.content-nav{padding-left:0!important}div.card-body ol li{color:rgba(0,0,0,.65);font-size:.7rem;font-weight:200}div.card-body ol li a{color:rgba(0,0,0,.65);font-weight:200}div.content-card{max-width:450px}div.content-card .card-header{background:#eff1f5}div.content-card .card-body a,div.content-card .card-body li{color:#007f7f}.card-header{padding:0}button.content-btn{font-size:.8rem;font-weight:300;color:#007f7f}ol.sb-list{list-style-type:none;padding:0}ol.sb-list li:not(:last-child){padding-bottom:5px}ol.sb-list li a{line-height:1;display:inline-block}section{overflow:hidden}@media screen and (max-width:767.99px){header{-webkit-box-shadow:none;box-shadow:none}.navbar-brand{margin-right:0}.nav-link{padding:0}.more-btn{color:#eee}main h1{margin-top:2rem}div.sidebar{padding:.5rem 0 .5rem 1rem;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);border-top:1px solid rgba(0,0,0,.1);background:#414347;top:-1px}ol.sb-list li{color:#80ffff;font-size:.7rem;font-weight:200}ol.sb-list a{display:block;color:#80ffff;font-weight:200}li#current,li#current a{font-style:italic;color:#eee}h5.sb-topic{font-size:.8rem;color:#eee;font-weight:300}}@media screen and (min-width:380px){html{font-size:87.5%}}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}</style><link rel="preload" href="/html5tech/css/purestyles.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="/html5tech/css/purestyles.min.css"></noscript><script>!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);</script><link rel="manifest" href="/html5tech/manifest.json"><script src="/html5tech/js/output.min.js" defer="defer"></script></head><body><button id="return-to-top" title="Return to top"><i style="color:white" class="fas fa-chevron-up"></i></button><header class="navbar navbar-expand navbar-light flex-column flex-md-row"><a class="navbar-brand" href="index.html"><img src="images/logo-1x.png" srcset="images/logo-1x.png, images/logo-2x.png 2x, images/logo-3x.png 3x, images/logo-4x.png 4x" class="d-inline-block align-top" alt="HTML5Tech logo"></a><div class="flex-row"><ul class="navbar-nav flex-row"><li class="nav-item"><a class="nav-link" href="#">HTML</a></li><li class="nav-item"><a class="nav-link" href="#">CSS</a></li><li class="nav-item dropdown active"><a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">JAVASCRIPT</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="js-data-related.html">Vanilla<span class="sr-only">(current)</span></a> <a class="dropdown-item" href="jquery-introduction.html">jQuery</a> <a class="dropdown-item" href="canvas-introduction.html">Canvas API</a></div></li></ul></div></header><div class="container-fluid"><div class="row d-flex"><div class="sidebar col-12 col-md-3 col-xl-2"><div class="text-center"><button class="more-btn btn btn-link d-md-none" type="button" data-toggle="collapse" data-target="#sidebarContent" aria-controls="sidebarContent" aria-label="Toggle sidebar navigation">MORE</button></div><nav class="sidebar-links collapse" id="sidebarContent"><div><h5 class="sb-topic">Basic JS</h5><ol class="sb-list"><li><a href="js-data-related.html">Data-related</a></li><li><a href="js-dom.html">Document Object Model</a></li><li><a href="js-object-related.html">Object-related</a></li><li><a href="js-flow-control.html">Flow control</a></li><li><a href="js-function-related.html">Function-related</a></li><li><a href="js-expressions-and-operators.html">Expressions &amp; operators</a></li></ol></div><div><h5 class="sb-topic">Object-Oriented JS</h5><ol class="sb-list"><li><a href="js-objects.html">Objects</a></li><li><a href="js-functions.html">Functions</a></li><li id="current"><a href="js-classes.html">Classes</a></li></ol></div></nav></div><main class="col-12 col-md-9 col-xl-8"><h1 class="text-left">Classes</h1><hr><div class="card content-card"><div class="card-header" id="headingOne"><button class="content-btn btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-controls="collapseOne" aria-label="Toggle content" aria-expanded="false">Contents</button></div><div id="collapseOne" class="collapse" role="tabpanel" aria-labelledby="headingOne" data-parent="#accordion"><div class="card-body"><ol class="content-nav"><li><a href="#1">Constructor functions</a><ol><li><a href="#1-1">Introduction</a></li><li><a href="#1-2">Creating objects</a></li><li><a href="#1-3">Ctor functions can have parameters</a></li><li><a href="#1-4">Seeing an object's ctor</a></li></ol></li><li><a href="#2">'this' keyword</a><ol><li><a href="#2-1">In object methods</a></li><li><a href="#2-2">In ctor functions</a></li><li><a href="#2-3">Setting our own 'this'</a><ol><li><a href="#2-3-1">'call()' method</a></li><li><a href="#2-3-2">'apply()' method</a></li><li><a href="#2-3-3">'bind()' method</a></li><li><a href="#2-3-4">Examples</a></li></ol></li></ol></li><li><a href="#3">Prototypal inheritance</a><ol><li><a href="#3-1">Introduction</a></li><li><a href="#3-2">Adding methods to the ctor funtion's prototype</a></li><li><a href="#3-3">Replacing the prototype</a></li><li><a href="#3-4">Standard built-in objects &amp; their prototypes</a></li><li><a href="#3-5">Checking an object's properties</a><ol><li><a href="#3-5-1">Introduction</a></li><li><a href="#3-5-2">'hasOwnProperty()' method</a></li><li><a href="#3-5-3">'isPrototypeOf()' method</a></li><li><a href="#3-5-4">'Object.getPrototypeOf()' method</a></li><li><a href="#3-5-5">'constructor' property</a></li></ol></li></ol></li><li><a href="#4">Prototypal inheritance: subclasses</a><ol><li><a href="#4-1">Introduction</a></li><li><a href="#4-2">Inheritance via prototypes</a><ol><li><a href="#4-2-1">Introduction</a></li><li><a href="#4-2-2">Secret link to prototype</a></li><li><a href="#4-2-3">Examples</a></li></ol></li><li><a href="#4-3">Object.create()</a></li></ol></li></ol></div></div></div><section><h2><a id="1" data-toggle="collapse" href="#accordion-1" aria-expanded="true" aria-controls="accordion-1">Constructor functions</a></h2><hr><div id="accordion-1" class="collapse show"><h3 id="1-1">Introduction</h3><pre class="prettyprint linenums"><code>// Ctor function
function Automobile() {
    this.brand = 'BMW';
}</code></pre><p>Rather than declaring local variables, constructor functions persist data with the <code>this</code> keyword. The above function will add a <code>brand</code> property to any object that it creates, and assigns it a default value of <code>BMWM</code>. Ctor functions <em>should not</em> have an explicit return value. The name of a ctor function, should be written with the first letter capitalized to visually distinguish it from a regular function.</p><h3 id="1-2">Creating objects</h3><pre class="prettyprint linenums"><code>// Using the JS keyword 'new'
let car1 = new Automobile();

// Using an object literal
let car2 = { brand: 'BMW'};</code></pre><h3 id="1-3">Ctor functions can have parameters</h3><pre class="prettyprint linenums"><code>// Ctor function
function Automobile(model, color) {
    this.brand = 'Audi';
    this.model = model;
    this.color = color;
    this.description = function () {
        console.log(`${this.brand} ${this.model} ${this.color} car`);
    }
}

// Create objects
const car1 = new Automobile('TT', 'red');
const car2 = new Automobile('A4', 'green');

console.log(car1.model);
// TT

console.log(car2.color);
// green

car1.description();
// Audi TT red car

car2.description();
// Audi A4 green car</code></pre><p>We can use the same constructor function to create as many objects as we'd like!</p><h3 id="1-4">Seeing an object's ctor</h3><p>What if we want to see if an object was created with a constructor function in the first place? We can use the <code>instanceOf</code> to give us some insight.</p><pre class="prettyprint linenums"><code>// Ctor function
function Person(name) {
    this.name = name;
}

// Object
const woman = new Person('Mary');

// Check type
typeof woman;
// object

// Check if object is an instance of the 'Person' ctor function
woman instanceof Person;
// true</code></pre></div></section><section><h2><a id="2" data-toggle="collapse" role="button" href="#accordion-2" aria-expanded="true" aria-controls="accordion-2">'this' keyword</a></h2><hr><div id="accordion-2" class="collapse show"><h3 id="2-1">In object methods</h3><pre class="prettyprint linenums"><code>// Create object
const man = {
    name: 'Marios',
    sayHello: function () {
        return 'Hello';
    },
    greetings: function () {
        console.log(`${this.sayHello()} from ${this.name}`);
    }
};

// Call method
man.greetings();
// Hello from Marios</code></pre><p>Using <code>this</code>, methods can access and manipulate an object's properties. In the above example, <code>greetings()</code> can use <code>this</code> to access the <code>man</code> object, which contains the <code>sayHello()</code> method.</p><h3 id="2-2">In ctor functions</h3><pre class="prettyprint linenums"><code>// Ctor function
function Person(name) {
    this.name = name;
    this.sayHello = function () {
        return 'Hello';
    };
    this.greetings = function () {
        console.log(`${this.sayHello()} from ${this.name}`);
    };
}

// Create object
const man = new Person('Marios');

// Call method
man.greetings();
// Hello from Marios</code></pre><p>Calling the ctor function with the <code>new</code> keyword sets he value of <code>this</code> to the newly-created object.</p><h3 id="2-3">Setting our own 'this'</h3><h4 id="2-3-1">'call()' method</h4><pre class="prettyprint linenums"><code>function.call(thisArg, arg1, arg2, ...)</code></pre><dl><dt><code>thisArg</code></dt><dd>Value to be set as <code>this</code></dd><dt><code>arg1, arg2, ..., argn</code></dt><dd>Arguments of <code>function()</code></dd></dl><p>Using <code>call()</code> to invoke a method, allows us to 'borrow' a method from one object and then use it for another object!</p><pre class="prettyprint linenums"><code>
// Create object
const car1 = {
    brand: 'Audi',
    model: 'A4',
    color: 'blue',
    describe: function () {
        // 'this' refers to the 'car1' object
        console.log(`${this.brand} ${this.model} ${this.color} car`);
    }
};

// Create object
const car2 = {
    brand: 'VW',
    model: 'Golf',
    color: 'red'
};

car1.describe();
// Audi A4 blue car

car2.describe();
// Uncaught TypeError: car2.describe is not a function

car1.describe.call(car2);
// VW Golf red car</code></pre><h4 id="2-3-2">'apply()' method</h4><pre class="prettyprint linenums"><code>function.apply(thisArg, [argsArray])</code></pre><dl><dt><code>thisArg</code></dt><dd>Value to be set as <code>this</code></dd><dt><code>[argsArray]</code></dt><dd>Arguments of <code>function()</code></dd></dl><div><p class="warning align-middle"><strong>Note</strong>: While the syntax of this function is almost identical to that of <code>call()</code>, the fundamental difference is that <code>call()</code> accepts an argument list, while <code>apply()</code> accepts a single array of arguments.</p></div><h4 id="2-3-3">'bind()' method</h4><p>The value of <code>this</code> has some potential scope issues when callback functions are involved, and things can get a bit tricky.</p><pre class="prettyprint linenums"><code>// Function
function foo(callback) {
    // If a function is simply invoked, 'this' is set to 'window'
    callback();
    callback();
}

// Object
const dog = {
    age: 5,
    grow: function() {
        this.age += 1;
    }
};

dog.grow();

dog.age;
// 6

// Function call: Doesn't work as expected
foo(dog.grow);

// You may have expected the value to be 8
dog.age;
// 6</code></pre><p><code>foo()</code> calls <code>callback()</code> as a function rather than a method. As a result, <code>this</code> refers to the global object and not the <code>dog</code> object.</p><div><p class="danger align-middle"><strong>Note</strong>: If a constructor function is called with the <code>new</code> operator, the value of <code>this</code> is set to the newly-created object. If a method is invoked on an object, <code>this</code> is set to that object itself. And if a function is simply invoked, <code>this</code> is set to the global object: <code>window</code>.</p></div><p>So how can we make sure that <code>this</code> is preserved? One way to resolve this issue is to use an <strong>anonymous closure</strong> to close over the <code>dog</code> object:</p><pre class="prettyprint linenums"><code>// Function
function foo(callback) {
    callback();
    callback();
}

// Object
const dog = {
    age: 5,
    grow: function() {
        this.age += 1;
    }
};

// Function call
foo(function () {
    // If a method is invoked on an object, 'this' is set to that object itself
    dog.grow();
});

dog.age;
// 7</code></pre><p>Since this is such a common pattern, JavaScript provides an alternate and less verbose approach: the <code>bind()</code> method.</p><p>The <code>bind()</code> Method</p><pre class="prettyprint linenums"><code>function.bind(thisArg [,arg1[,arg2[,argN]]])</code></pre><dl><dt><code>thisArg</code></dt><dd>Value to be set as <code>this</code></dd><dt><code>arg1[,arg2[,argN]]]</code></dt><dd>Optional. A list of arguments to be passed to the new function.</dd></dl><p>Regarding the previous example, an alternative and less verbose approach to preserved <code>this</code>, is to explicitly set the <code>dog.grow()</code>'s <code>this</code> value to the <code>dog</code> object:</p><pre class="prettyprint linenums"><code>// Function
function foo(callback) {
    // If a function is simply invoked, 'this' is set to 'window', unless the
    // function's 'this' value is explicitly set to another value
    callback();
    callback();
}

// Object
const dog = {
    age: 5,
    grow: function() {
        this.age += 1;
    }
};

// A copy of 'dog.grow()' with specified 'this' value
const growCopy = dog.grow.bind(dog);

// Function call
foo(growCopy);

dog.age;
// 7</code></pre><h4 id="2-3-4">Examples</h4><p><mark>Example 1: bind()</mark></p><p>Consider the following <code>driver</code> and <code>car</code> objects:</p><pre class="prettyprint linenums"><code>const driver = {
    name: 'Danica',
    displayName: function () {
        console.log(`Name: ${this.name}`);
    }
};

const car = {
    name: 'Fusion'
};</code></pre><p>Write an expression using <code>bind()</code> that allows us to 'borrow' the <code>displayName()</code> method from <code>driver</code> for the <code>car</code> object to use:</p><pre class="prettyprint linenums"><code>const displayNameCopy = driver.displayName.bind(car);

displayName();
// Name: Fusion</code></pre><p><mark>Example 2: call() &amp; apply()</mark></p><pre class="prettyprint linenums"><code>// Create object
const cow = {
    name: 'Dolly'
};

// Create function
function sayHello(message) {
    console.log(this);
    console.log(`${message}, ${this.name}`);
}

// 'this' refers to 'window' object
sayHello('Hello from');
// Window {...}
// Hello from,

// 'this' refers to 'cow' object
sayHello.call(cow, 'Hello from');
// {name: 'Dolly'}
// Hello from, Dolly

// 'this' refers to 'cow' object
sayHello.apply(cow, ['Hello from']);
// {name: 'Dolly'}
// Hello from, Dolly</code></pre><p><mark>Example 3: call()</mark></p><p>Consider the following <code>Andrew</code> and <code>Richard</code> objects:</p><pre class="prettyprint linenums"><code>const Andrew = {
    name: 'Andrew',
    introduce: function () {
        console.log(`Hi, my name is ${this.name}!`);
    }
};

const Richard = {
    name: 'Richard',
    introduce: function () {
        console.log(`Hello there! I'm ${this.name}.`);
    }
};</code></pre><p><i>Question:</i> When <code>Richard.introduce.call(Andrew);</code> is executed, what is logged to the console?<br><i>Answer:</i> <code>'Hello there!' I'm Andrew.'</code></p><p><mark>Example 4: call()</mark></p><p>Consider the following:</p><pre class="prettyprint linenums"><code>const andrew = {
    name: 'Andrew'
};

function introduce(language) {
    console.log(`I'm ${this.name} and my favorite programming language is ${language}.`);
}</code></pre><p>Write an expression that uses the <code>call()</code> method to produce the message: <code>'I'm Andrew and my favorite programming language is JavaScript.'</code></p><p><strong>Answer</strong>: <code>introduce.call(andrew, 'JavaScript');</code></p></div></section><section><h2><a id="3" data-toggle="collapse" role="button" href="#accordion-3" aria-expanded="true" aria-controls="accordion-3">Prototypal inheritance</a></h2><hr><div id="accordion-3" class="collapse show"><h3 id="3-1">Introduction</h3><p>Consider the following example:</p><pre class="prettyprint linenums"><code>// Ctor function
function Cat(name, age) {
    this.name = name;
    this.age = age;
    this.meow = function () {
        console.log(`Meow! My name is ${this.name}`);
    }
}

// Create objects
const keira = new Cat('Keira', 3);
const bob = new Cat('Bob', 4);

keira.meow();
// 'Meow! My name is Keira'

bob.meow();
// 'Meow! My name is Bob'</code></pre><p>Let's go ahead and remove <code>meow()</code> from the <code>Cat</code> ctor and add it to its prototype:</p><pre class="prettyprint linenums"><code>// Ctor function
function Cat(name, age) {
    this.name = name;
    this.age = age;
}

// Create objects
const keira = new Cat('Keira', 3);
const bob = new Cat('Bob', 4);

// Ctor's function prototype: Note that even after we make the new objects,
// 'keira' &amp; 'bob', we can still add properties to Cat's prototype
Cat.prototype.meow = function () {
    console.log(`Meow! My name is ${this.name}`);
};

keira.meow();
// 'Meow! My name is Keira'

bob.meow();
// 'Meow! My name is Bob'</code></pre><p>When we called <code>meow()</code> on <code>keira</code> (and <code>bob</code> likewise), the JS engine will look first at the object's own properties to find a name that matches <code>meow()</code>. Since the method isn't directly defined in the object, it will then look at the object's ctor prototype for a match.</p><div><p class="warning align-middle"><strong>Note</strong>: In cases where the property doesn't exist in the prototype, the JS engine will continue looking up the <strong>prototype chain</strong>. At the very end of the chain is the <code>Object()</code> object, or the top-level parent. If the property still cannot be found, the property is <code>undefined</code>.</p></div><div><p class="warning align-middle"><strong>Note</strong>: Each function has a <code>prototype</code> property, which is really just an object. All objects created by a ctor function keep a reference to that <code>prototype</code> and can use its properties as their own!</p></div><h3 id="3-2">Adding methods to the ctor funtion's prototype</h3><p>To <strong>save memory</strong> and <strong>keep things DRY</strong>, we can add methods to the ctor function's <code>prototype</code>.</p><p>Consider the following two code snippets below:</p><pre class="prettyprint linenums"><code>// A
function Cat(name) {
    this.name = name;
    this.meow = function () {
        console.log(`Meow! My name is ${this.name}`);
    }
}</code></pre><pre class="prettyprint linenums"><code>// B
function Cat(name) {
    this.name = name;
}

Cat.prototype.meow = function () {
    console.log(`Meow! My name is ${this.name}`);
}</code></pre><p>Let's say that we want to define a method that can be invoked on instances (objects) of the <code>Cat</code> ctor function (we'll be instantiating at least 101 of them!).</p><p><i>Question:</i> Which of the preceding two approaches is optimal?</p><p><i>Answer:</i> (B) is optimal, because the function that <strong>meow</strong> points to does not need to be recreated each time a <code>Cat</code> object is created.</p><h3 id="3-3">Replacing the prototype</h3><pre class="prettyprint linenums"><code>// Ctor function
function Parrot(name) {
    this.name = name;
}

// Create objects
const charly = new Parrot('Charly');
const ricky = new Parrot('Ricky');

// Even after we make the new objects, 'charly' &amp; 'ricky', we can still add
// properties to the prototype
Parrot.prototype.speak = function () {
    console.log('Hellooooooo');
};

charly.speak();
// 'Hellooooooo'

ricky.speak();
// 'Hellooooooo'</code></pre><p>Now let's replace <code>Parrot</code>'s <code>prototype</code> As we can see, the previous objects don't have access to the updated prototype's properties; they just retain their secret link to the old prototype:</p><pre class="prettyprint linenums"><code>// Replace 'prototype'
Parrot.prototype = {
    isCockatoo: true,
    color: 'white'
};

console.log(charly.color);
// undefined

console.log(ricky.isCockatoo);
// undefined</code></pre><p>As it turns out, any new <code>Parrot</code> objects created moving forward will use the updated prototype:</p><pre class="prettyprint linenums"><code>// Create object
const erik = new Parrot('Erik');

erik.speak();
// TypeError: erik.speak is not a function

console.log(erik.color);
// 'white'

console.log(erik.isCockatoo)
// true</code></pre><h3 id="3-4">Standard built-in objects &amp; their prototypes</h3><p>Instances (objects) inherit from their ctor's prototype.</p><p>Ctors and their respective prototypes:</p><ul><li><code>Array/Array.prototype</code></li><li><code>String/String.prototype</code></li><li><code>Number/Number.prototype</code></li><li><code>Boolean/Boolean.prototype</code></li><li><code>Date/Date.prototype</code></li></ul><pre class="prettyprint linenums"><code>// Create 'Array' objects
var myArray1 = [1, 2, 3];
var myArray2 = ['a', 'b', 'c'];

// 'push()' is defined in the Array.prototype
myArray1.push(4);
// [1, 2, 3, 4]

// 'push()' is defined in the Array.prototype
myArra2.push('d');
// ['a', 'b', 'c', 'd']</code></pre><p>We can change the constructor's prototype object (<code>Array.prototype</code>) to make changes to all <code>Array</code> instances (objects). For example, you can add new methods and properties to extend all <code>Array</code> objects.</p><pre class="prettyprint linenums"><code>
Array.prototype.myReverse = function () {
    var res = new Array;
    for(let i = this.length - 1; i >= 0; i--) {
        res.push(this[i]);
    }
    return res;
}

myArray1 = myArray1.myReverse();
// [4, 3, 2, 1]

myArray2 = myArray2.myReverse();
// ['d', 'c', 'b', 'a']</code></pre><h3 id="3-5">Checking an object's properties</h3><h4 id="3-5-1">Introduction</h4><p>If an object doesn't have a particular property of its own, it can access one somewhere along the prototype chain. In this section, we'll cover a few useful methods that can help us determine where a particular property is coming from.</p><h4 id="3-5-2">'hasOwnProperty()' method</h4><p>The <code>hasOwnProperty()</code> method returns a boolean indicating whether the object has the specified property as own (not inherited) property.</p><pre class="prettyprint linenums"><code>// Ctor
function Foo() {
    // Own property
    this.property1 = '1234';
}

// Inherited property
Foo.prototype.property2 = '5678';

// Crteate object
const myFoo = new Foo();

console.log(myFoo.hasOwnProperty('property1'));
// true

console.log(myFoo.hasOwnProperty('property2'));
// false</code></pre><h4 id="3-5-3">'isPrototypeOf()' method</h4><p>The <code>isPrototypeOf()</code> method checks if an object exists in another object's prototype chain. Using this method, you can confirm if a particular object serves as the prototype of another object.</p><pre class="prettyprint linenums"><code>// Prototype
const motorVehicle = {
    move: function() {
        console.log('I am moving!');
    }
}

// Ctor function
function Car(model, displacement) {
    this.model = model;
    this.displacement = displacement;
}

// Replace Car's prototype
Car.prototype = motorVehicle;

// Create object
const myCar = new Car('Suzuki Jimny', 1.3);

// model: own property
console.log(myCar.model);
// 'Suzuki Jimny'

// move(): inherited property
myCar.move();
// I am moving!

// The prototype of a 'Car' instance is the 'motorVehicle' object
console.log(motorVehicle.isPrototypeOf(myCar));
// true</code></pre><div><p class="warning align-middle"><strong>Note</strong>: <code>isPrototypeOf()</code> works well, but keep in mind that in order use it, you must have that prototype object at hand in the first place.</p></div><h4 id="3-5-4">'Object.getPrototypeOf()' method</h4><p>The <code>Object.getPrototypeOf()</code> method returns the prototype of the specified object.</p><p>Continuing from the previous example:</p><pre class="prettyprint linenums"><code>const myPrototype = Object.getPrototypeOf(myCar);

console.log(myPrototype);
// {move: ƒ}</code></pre><p>Let's consider another example and let's say that we create the following object, <code>capitals</code>, using the <strong>literal notation</strong>:</p><pre class="prettyprint linenums"><code>const capitals = {
    California: 'Sacramento',
    Washington: 'Olympia',
    Oregon: 'Salem',
    Texas: 'Austin'
};</code></pre><p><i>Question:</i> What is returned when <code>Object.getPrototypeOf(capitals);</code> is executed?</p><p><i>Solution:</i> Because the object was created using <strong>literal notation</strong>, its constructor is the built-in <code>Object()</code> constructor function which in turn maintains a reference to <code>Object.prototype</code></p><p><i>Answer:</i> A reference to <code>Object()</code>'s prototype.</p><pre class="prettyprint linenums"><code>Object.getPrototypeOf(capitals) === Object.prototype
// true</code></pre><h4 id="3-5-5">'constructor' property</h4><p>Each time an object is created, a special property is assigned to it under the hood: <code>constructor</code>. Accessing an object's <code>constructor</code> property returns a reference to the constructor function that created that object in the first place!</p><pre class="prettyprint linenums"><code>// Ctor
function Longboard() {
    this.material = 'bamboo';
}

// Create object
const board = new Longboard();

// Print the ctor function that created the 'board' object
console.log(board.constructor);
// ƒ Longboard() {
//     this.material = 'bamboo';
// }</code></pre><p>Keep in mind that if an object was created using <strong>literal notation</strong>, its constructor is the built-in <code>Object()</code> constructor function!</p><pre class="prettyprint linenums"><code>const foo = {
    description: 'foo object',
    message: 'hello world!'
}

console.log(foo.constructor);
// ƒ Object() { [native code] }</code></pre></div></section><section><h2><a id="4" data-toggle="collapse" role="button" href="#accordion-4" aria-expanded="true" aria-controls="accordion-4">Prototypal inheritance: subclasses</a></h2><hr><div id="accordion-4" class="collapse show"><h3 id="4-1">Introduction</h3><p>With inheritance we can subclass, that is, have a 'child' object take on most or all of a 'parent' object's properties while having unique properties of its own. The class from which the subclass is derived is often called a superclass.</p><h3 id="4-2">Inheritance via prototypes</h3><h4 id="4-2-1">Introduction</h4><p>Every object created with the <code>Cat()</code> ctor function, is linked to the ctor function's prototype. As such, the <code>meow()</code> method is inherited:</p><pre class="prettyprint linenums"><code>// Ctor function
function Cat(name) {
    this.name = name;
}

// Ctor function's prototype
Cat.prototype.meow = function () {
    console.log(`Meow! My name is ${this.name}`);
}

// Create objects
const cat = new Cat('Felix');

cat.name;
// 'Felix'

cat.meow();
// 'Meow! My name is Felix'</code></pre><h4 id="4-2-2">Secret link to prototype</h4><pre class="prettyprint linenums"><code>// Object
const bigCat = {
    diet: 'carnivore',
    claws: 'true'
};

// Ctor function
function Tiger(name) {
    this.name = name;
}

// Ctor function's prototype is bigCat
Tiger.prototype = bigCat;

// Object
const tiger = new Tiger('Tony');

// Add properties
tiger.weight = 200;
tiger.favoriteFood = 'deer';</code></pre><p><code>tiger</code> has three properties of its own and also has access to properties that exist as properties in the prototype object: <code>diet</code> and <code>claws</code>.</p><pre class="prettyprint linenums"><code>// Own property
console.log(tiger.weight);
//200

// Own property
console.log(tiger.favoriteFood);
//"deer"

// Own property
console.log(tiger.name);
//"Tony"

// Inherited property
console.log(tiger.diet);
//"carnivore"

// Inherited property
console.log(tiger.claws);
//"true"</code></pre><p>Right after an object is made from its ctor, it gets an immediate access to properties and methods in the ctor's prototype.</p><p>The secret link that leads to the prototype is <code>__proto__</code>, a property of all objects made by a ctor function, that points to the prototype object.</p><pre class="prettyprint linenums"><code>console.log(tiger.__proto__);
// {diet: "carnivore", claws: "true"}

console.log(tiger.__proto__ === bigCat);
// true</code></pre><div><p class="danger align-middle"><strong>Note</strong>: Do not ever reassign the <code>__proto__</code> property, or even use it in any code you write. Use <code>Object.getPrototypeOf()</code> instead.</p></div><h4 id="4-2-3">Examples</h4><p><mark>Example 1</mark></p><p>Consider the following:</p><pre class="prettyprint linenums"><code>// Ctor
function Car (mfr, model, color, year) {
    this.mfr = mfr;
    this.model = model;
    this.color = color;
    this.year = year;
}

// Add method to the prototype
Car.prototype.start = function() {
    console.log(`${this.model} started successfully!`);
}

// Object
const car = new Car('Ford', 'Mustang', 'white', 1965);

car.start();
// Mustang started successfully!</code></pre><p>What happens when <code>car.start();</code> is executed? List the events in the order that they occur:</p><ol><li>JS searches inside the <code>car</code> object for a property named <code>start</code>.</li><li>JS doesn't find <code>start</code> within the <code>car</code> object.</li><li>JS accesses the <code>car.__proto__</code> property.</li><li>JS has now a direct link to the prototype and starts the search in it.</li><li>JS finds the property within the prototype and returns it.</li><li>Since <code>start</code> is invoked as a method on <code>car</code>, the value of <code>this</code> is set to <code>car</code>.</li></ol><h3 id="4-3">Object.create()</h3><h4 id="4-3-1">Introduction</h4><p>There is another way to manage inheritance without altering the prototype using <code>Object.create()</code>.</p><p>What does <code>Object.create()</code> do is that it takes a single object as an argument, and returns a new object whose <code>__proto__</code> property is set to whatever was originally passed into <code>Object.create()</code>.</p><pre class="prettyprint linenums"><code>// amphibian object
const amphibian = {
    ectothermic: true,
    eat: function() {
        console.log("Yummy!");
    }
};

// frog object (extends amphibian)
const frog = Object.create(amphibian);

console.log(amphibian.ectothermic);
// true

amphibian.eat();
// Yummy!

console.log(frog.__proto__);
// {ectothermic: true, eat: ƒ}</code></pre><p><code>frog</code> is linked to <code>amphibian</code>. As a result, <code>frog</code> inherits all of the <code>amphibian</code>'s properties.</p><p><code>Object.create()</code> gives us a clean method of establishing prototypal inheritance in JavaScript.</p><h4 id="4-3-2">Single inheritance</h4><p>We can use <code>Object.create()</code> to have objects inherit from just about any object we want (i.e. not only the <code>prototype</code>).</p><p><code>Object.create()</code> is a great way to implement prototypal inheritance without altering the prototype.</p><pre class="prettyprint linenums"><code>// "Animal" superclass
function Animal(name) {
    this.name = name;
}

// Superclass method
Animal.prototype.sleep = function() {
    console.log('zzzzzzzzzzzzzzzz');
}

// "Cat" subclass
function Cat(name) {
    Animal.call(this, name); // call super ctor
    this.mammal = true;
}

// "Cat" inherits from "Animal" (subclass extends superclass)
Cat.prototype = Object.create(Animal.prototype);

// "Cat"'s ctor points to "Animal" but must point to "Cat"
Cat.prototype.constructor = Cat;

// Subclass method
Cat.prototype.meow = function() {
    console.log('meow meow meow');
}

// Create an object
const cat = new Cat('Felix');</code></pre><p>The <code>cat</code> object has all the properties and methods we can expect, either inherited or owned:</p><pre class="prettyprint linenums"><code>cat.name;
// "Felix"

cat.sleep();
// zzzzzzzzzzzzzzzz

cat.mammal;
// true

cat.meow();
// meow meow meow</code></pre></div></section></main><div class="ad-space d-none d-xl-block col-xl-2"><div class="text-center"><h5>Ad1</h5><img src="images/150x100.png" alt="advertisement"><h5>Ad2</h5><img src="images/150x100.png" alt="advertisement"><h5>Ad3</h5><img src="images/150x100.png" alt="advertisement"><h5>Ad4</h5><img src="images/150x100.png" alt="advertisement"><h5>Ad5</h5><img src="images/150x100.png" alt="advertisement"><h5>Ad6</h5><img src="images/150x100.png" alt="advertisement"></div></div></div></div><footer class="text-center text-muted"><div class="license"><div><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img width="100" alt="CC BY-SA 4.0 License" style="border-width:0" src="images/cc-by-sa-4.svg"></a><br>Documentation is licensed under the <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0 License</a>.</div><div><a rel="license" href="https://www.gnu.org/licenses/agpl-3.0"><img width="80" alt="GNU AGPLv3 License" style="border-width:0" src="images/agpl-v3.svg"></a><br><a href="https://github.com/PictureElement/html5tech">Source code</a> is licensed under the <a rel="license" href="https://www.gnu.org/licenses/agpl-3.0">AGPL v3 License</a>.</div></div><div class="copyright">Design &amp; development by <a href="https://pictureelement.github.io/portfolio-2">PictureElement</a> (Marios Sofokleous).</div></footer></body></html>