<!doctype html><html lang="en"><head><title>HTML5 Canvas/Pixel manipulation &amp; Animations</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Fundamental resources about HTML5 & friends."><meta name="author" content="PictureElement (Marios Sofokleous)"><meta name="theme-color" content="#007f7f"><style type="text/css">@-ms-viewport{width:device-width}h1,h2,h3,h5{margin-top:0;margin-bottom:.5rem}h1,h2,h3,h5{margin-bottom:.5rem;font-family:inherit;font-weight:500;line-height:1.2;color:inherit}@media (min-width:768px){.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.d-md-none{display:none!important}}@media (min-width:1200px){.col-xl-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.d-xl-block{display:block!important}}@media (min-width:768px){.flex-md-row{-ms-flex-direction:row!important;flex-direction:row!important}}h2,h3,h5{font-weight:300}@media screen and (min-width:768px){main{padding:1rem 1rem 1rem 2rem!important}div.ad-space{padding:1rem}header{-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12)}div.sidebar{margin:1rem 0;padding:0 1rem;border-right:1px solid #eee}ol.sb-list li{color:#007f7f;font-size:.7rem;font-weight:200}ol.sb-list a{display:block;color:#007f7f;font-weight:200}li#current,li#current a{font-style:italic;color:#333}h5.sb-topic{font-size:.8rem;color:#333;font-weight:300}}@media screen and (min-width:610px){html{font-size:100%}}@media screen and (min-width:700px){html{font-size:112.5%}}@media screen and (min-width:1090px){html{font-size:125%}}@media screen and (min-width:1300px){.container-fluid{max-width:1300px}}:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#868e96;--gray-dark:#343a40;--primary:#007bff;--secondary:#868e96;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--font-family-monospace:"SFMono-Regular",Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar}header,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}strong{font-weight:bolder}sub{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}a{color:#007bff;text-decoration:none;background-color:transparent;-webkit-text-decoration-skip:objects}code{font-family:monospace,monospace;font-size:1em}img{vertical-align:middle;border-style:none}[role=button],a,button{-ms-touch-action:manipulation;touch-action:manipulation}button{border-radius:0}button{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button{overflow:visible}button{text-transform:none}button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}h1,h2,h3,h4,h5{margin-bottom:.5rem;font-family:inherit;font-weight:500;line-height:1.2;color:inherit}h1{font-size:2.5rem}h2{font-size:2rem}h3{font-size:1.75rem}h4{font-size:1.5rem}h5{font-size:1.25rem}hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}code{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}code{padding:.2rem .4rem;font-size:90%;color:#bd4147;background-color:#f8f9fa;border-radius:.25rem}.container-fluid{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col-12,.col-md-3,.col-md-9,.col-xl-2,.col-xl-8{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.btn{display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}.btn-link{font-weight:400;color:#007bff;background-color:transparent}.collapse{display:none}.collapse.show{display:block}.dropdown{position:relative}.dropdown-toggle::after{display:inline-block;width:0;height:0;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background:0 0;border:0}.nav-link{display:block;padding:.5rem 1rem}.navbar{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;padding:.5rem 1rem}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-nav{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-expand{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .active>.nav-link{color:rgba(0,0,0,.9)}.card{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card-body{-ms-flex:1 1 auto;flex:1 1 auto;padding:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.bg-light{background-color:#f8f9fa!important}.d-none{display:none!important}.d-inline-block{display:inline-block!important}.d-flex{display:-ms-flexbox!important;display:flex!important}.flex-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-column{-ms-flex-direction:column!important;flex-direction:column!important}.sr-only{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;-webkit-clip-path:inset(50%);clip-path:inset(50%);border:0}.text-left{text-align:left!important}.text-center{text-align:center!important}html{font-size:75%}*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}body{font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-weight:400;margin:0;color:#333;text-align:left;font-size:1rem}h1{font-weight:300}h2,h3,h4,h5{font-weight:300}.info{padding:1rem;background:#dfd;border:1px solid #888;border-left:5px solid #4caf50}button#return-to-top{display:none;position:fixed;bottom:20px;right:20px;border:none;outline:0;background-color:rgba(0,127,127,.8);width:48px;height:48px;border-radius:50%;z-index:2}button#return-to-top i{color:#fff;font-size:20px}header{background:#fafaff}header .nav-link{letter-spacing:1px}.dropdown-menu{z-index:1021}.navbar-brand,.navbar-nav{position:relative;top:10px;padding:0}main section:first-of-type{margin-top:1rem!important}section h2{text-decoration:none}h2 a{color:#333}div.card-body ol{counter-reset:section;list-style-type:none;padding-left:20px}div.card-body li::before{counter-increment:section;content:counters(section,".") " "}ol.content-nav{padding-left:0!important}div.card-body ol li{color:rgba(0,0,0,.65);font-size:.7rem;font-weight:200}div.card-body ol li a{color:rgba(0,0,0,.65);font-weight:200}div.content-card{max-width:450px}div.content-card .card-header{background:#eef0f2}div.content-card .card-body a,div.content-card .card-body li{color:#007f7f}.card-header{padding:0}button.content-btn{font-size:.8rem;font-weight:300;color:#007f7f}ol.sb-list{list-style-type:none;padding:0}ol.sb-list li:not(:last-child){padding-bottom:5px}ol.sb-list li a{line-height:1;display:inline-block}section{overflow:hidden}@media screen and (max-width:767.99px){header{-webkit-box-shadow:none;box-shadow:none}.navbar-brand{margin-right:0}.more-btn{color:#eee}main h1{margin-top:2rem}div.sidebar{padding:.5rem 0 .5rem 1rem;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);border-top:1px solid rgba(0,0,0,.1);background:#414347;top:-1px}ol.sb-list li{color:#80ffff;font-size:.7rem;font-weight:200}ol.sb-list a{display:block;color:#80ffff;font-weight:200}li#current,li#current a{font-style:italic;color:#eee}h5.sb-topic{font-size:.8rem;color:#eee;font-weight:300}}@media screen and (min-width:380px){html{font-size:87.5%}}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}</style><link rel="preload" href="/html5tech/css/purestyles.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="/html5tech/css/purestyles.min.css"></noscript><script>!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);</script><link rel="manifest" href="/html5tech/manifest.json"><script src="/html5tech/js/output.min.js" defer="defer"></script></head><body><button id="return-to-top" title="Return to top"><i style="color:white" class="fas fa-chevron-up"></i></button><header class="navbar navbar-expand navbar-light bg-light flex-column flex-md-row"><a class="navbar-brand" href="index.html"><img src="images/logo-1x.png" srcset="images/logo-1x.png, images/logo-2x.png 2x, images/logo-3x.png 3x, images/logo-4x.png 4x" class="d-inline-block align-top" alt="HTML5Tech logo"></a><div class="flex-row"><ul class="navbar-nav flex-row"><li class="nav-item"><a class="nav-link" href="#">HTML</a></li><li class="nav-item"><a class="nav-link" href="#">CSS</a></li><li class="nav-item dropdown active"><a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">JAVASCRIPT</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="js-data-related.html">Vanilla</a> <a class="dropdown-item" href="jquery-introduction.html">jQuery</a> <a class="dropdown-item" href="canvas-introduction.html">Canvas API<span class="sr-only">(current)</span></a></div></li></ul></div></header><div class="container-fluid"><div class="row d-flex"><div class="sidebar col-12 col-md-3 col-xl-2"><div class="text-center"><button class="more-btn btn btn-link d-md-none" type="button" data-toggle="collapse" data-target="#sidebarContent" aria-controls="sidebarContent" aria-label="Toggle sidebar navigation">MORE</button></div><nav class="sidebar-links collapse" id="sidebarContent"><div><h5 class="sb-topic">Basic Canvas</h5><ol class="sb-list"><li><a href="canvas-introduction.html">Introduction</a></li><li id="current"><a href="#">Pixel manipulation &amp; Animations</a></li></ol></div></nav></div><main class="col-12 col-md-9 col-xl-8"><h1 class="text-left">Pixel manipulation &amp; Animations</h1><hr><div class="card content-card"><div class="card-header" id="headingOne"><button class="content-btn btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-controls="collapseOne" aria-label="Toggle content" aria-expanded="false">Contents</button></div><div id="collapseOne" class="collapse" role="tabpanel" aria-labelledby="headingOne" data-parent="#accordion"><div class="card-body"><ol class="content-nav"><li><a href="#1"></a></li><li><a href="#2"></a></li><li><a href="#3"></a></li><li><a href="#4"></a></li><li><a href="#5"></a></li><li><a href="#6"></a></li><li><a href="#7"></a></li></ol></div></div></div><section><h2><a id="1" data-toggle="collapse" role="button" href="#accordion-1" aria-expanded="true" aria-controls="accordion-1">The ImageData interface</a></h2><hr><div id="accordion-1" class="collapse show"><h3>Introduction</h3><p>The <code>ImageData</code> interface represents the pixel data on the <code>&lt;canvas></code> element.</p><dl><dt><code><i>ctx</i>.createImageData(<i>width</i>, <i>height</i>);</code></dt><dt><code><i>ctx</i>.createImageData(<i>imagedata</i>);</code></dt><dd>Creates a new, blank <i>ImageData</i> object with the specified dimensions.</dd><dt><code><i>ctx</i>.getImageData(<i>sx</i>, <i>sy</i>, <i>sw</i>, <i>sh</i>);</code></dt><dd>Return an ImageData object representing the underlying pixel data for the area of the canvas.</dd><dt><code><i>ctx</i>.putImageData(<i>imagedata</i>, <i>dx</i>, <i>dy</i>);</code></dt><dt><code><i>ctx</i>.putImageData(<i>imagedata</i>, <i>dx</i>, <i>dy</i>, <i>dirtyX</i>, <i>dirtyY</i>, <i>dirtyW</i>, <i>dirtyH</i>);</code></dt><dd>Paint data from the given <i>ImageData</i> object onto the bitmap.</dd><dt><code><i>imagedata</i>.data</code></dt><dd>Get the <i>Uint8ClampedArray</i> containing the data in the RGBA order, with integer values between 0 and 255.</dd><dt><code><i>imagedata</i>.height</code></dt><dd>Get the actual height, in pixels, of the ImageData.</dd><dt><code><i>imagedata</i>.width</code></dt><dd>Get the actual width, in pixels, of the ImageData.</dd></dl><div><p class="info align-middle"><strong>Note:</strong> <code>Uint8ClampedArray</code> contains the image data in the RGBA order: [r<sub>0</sub>, g<sub>0</sub>, b<sub>0</sub>, a<sub>0</sub>, r<sub>1</sub>, g<sub>1</sub>, b<sub>1</sub>, a<sub>1</sub>, ..., r<sub>n</sub>, g<sub>n</sub>, b<sub>n</sub>, a<sub>n</sub>]</p></div><h3>Pixel manipulation</h3><h4>Example 1</h4><p>This program creates a 2D Canvas and uses <code><i>ctx</i>.getImageData</code> to retrieve the <code>ImageData</code> object representing the underlying pixel data for the area of the canvas. Afterward, it changes every 10th pixel to a solid green color:</p><p><u>HTML</u></p><pre class="prettyprint linenums"><code>&lt;!DOCTYPE html>
&lt;html>
  &lt;head>
  &lt;/head>
  &lt;body>
    &lt;canvas id="c" width="200", height="200" style="border:1px solid #000;">
      Pixel manipulation: Change every 10th pixel to a solid green color.
    &lt;/canvas>
    &lt;script>
      var canvas = document.getElementById('c');

      // Check for canvas support
      if (canvas.getContext) {
        // Access the rendering context
        var ctx = canvas.getContext('2d');

        // ImageData object
        var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
        // One-dimensional array containing the data in the RGBA order
        var data = imageData.data;

        function paintGreen(data) {
          // data represents the Uint8ClampedArray containing the data
          // in the RGBA order [r0, g0, b0, a0, r1, g1, b1, a1, ..., rn, gn, bn, an]
          var numPixels = data.length / 4;

          for (let i = 0; i &lt; numPixels; i += 10) {
            data[i * 4 + 1] = 255; // Green channel
            data[i * 4 + 3] = 255; // Alpha channel
          }

          // Paint pixel data into the context
          ctx.putImageData(imageData, 0, 0);
        }

        paintGreen(data);
      }
    &lt;/script>
  &lt;/body>
&lt;/html></code></pre><p><u>Result</u></p><iframe height="250" src="demos/27.html" title="result"></iframe><h4>Example 2</h4><p>This program demonstrates the process of converting images to grayscale and the process of color-inversion using simple techniques.</p><p>Averaging is the fastest and easiest grayscale conversion technique and it works like this:</p><div class="math"><var>gray</var> = (<var>red</var> + <var>green</var> + <var>blue</var>) / 3</div><p>Color inversion is simple, each color channel is subtracted from the max value of 255:</p><div class="math"><var>newR</var> = 255 - <var>R</var><br><var>newG</var> = 255 - <var>G</var><br><var>newB</var> = 255 - <var>B</var></div><p><u>HTML</u></p><pre class="prettyprint linenums"><code>&lt;!DOCTYPE html>
&lt;html>
  &lt;head>
    &lt;style>
      canvas {
        max-width: 200px;
        border:1px solid #000;
        display: block;
      }
      input {
        margin-top: 1rem;
      }
    &lt;/style>
  &lt;/head>
  &lt;body>
    &lt;canvas id='c'>
      Pixel manipulation: Grayscaling and Color inversion
    &lt;/canvas>
    &lt;input id='grayscaleBtn' type='button' value='Grayscale'>
    &lt;input id='invertBtn' type='button' value='Invert'>
    &lt;input id='resetBtn' type='button' value='Reset'>
    &lt;script>
      var canvas = document.getElementById('c');

      // Check for canvas support
      if (canvas.getContext) {

        // Initialization
        function init(image) {
          // Use the intrinsic size of image in CSS pixels
          canvas.width = image.naturalWidth;
          canvas.height = image.naturalHeight;
          // Draw image onto the canvas
          ctx.drawImage(image, 0, 0);
        }

        // Grayscaling
        var grayscale = function () {
          // ImageData object
          var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
          // One-dimensional array containing the data in the RGBA order
          var data = imageData.data;
          // data represents the Uint8ClampedArray containing the data
          // in the RGBA order [r0, g0, b0, a0, r1, g1, b1, a1, ..., rn, gn, bn, an]
          for (let i = 0; i &lt; data.length; i += 4) {
            // Averaging method: gray = (r + g + b) / 3
            let gray = (data[i] + data[i+1] + data[i+2]) / 3;
            // Red channel
            data[i] = gray;
            // Green channel
            data[i+1] = gray;
            // Blue channel
            data[i+2] = gray;
          }
          // Paint pixel data into the context
          ctx.putImageData(imageData, 0, 0);
        }

        // Color inversion
        var invert = function () {
          // ImageData object
          var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
          // One-dimensional array containing the data in the RGBA order
          var data = imageData.data;
          // data represents the Uint8ClampedArray containing the data
          // in the RGBA order [r0, g0, b0, a0, r1, g1, b1, a1, ..., rn, gn, bn, an]
          for (let i = 0; i &lt; data.length; i += 4) {
            // Red channel
            data[i] = 255 - data[i];
            // Green channel
            data[i+1] = 255 - data[i+1];
            // Blue channel
            data[i+2] = 255 - data[i+2];
          }
          // Paint pixel data into the context
          ctx.putImageData(imageData, 0, 0);
        }

        // Access the rendering context
        var ctx = canvas.getContext('2d');

        // Create image
        var img = new Image();
        img.src = '../images/image-1.jpg';
        // The callback will be called when the image has finished loading
        img.onload = function() {
          // Initalize canvas
          init(this);
        };

        // Click events
        document.getElementById('grayscaleBtn').addEventListener('click', grayscale);
        document.getElementById('invertBtn').addEventListener('click', invert);
        document.getElementById('resetBtn').addEventListener('click', function() {
          // Erase any previously drawn content
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          // Draw image onto the canvas
          ctx.drawImage(img, 0, 0);
        });
      }
    &lt;/script>
  &lt;/body>
&lt;/html></code></pre><p><u>Result</u></p><iframe height="260" src="demos/28.html" title="result"></iframe><div><p class="info align-middle"><strong>Note:</strong> For more info on image processing please visit <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas">MDN</a> and <a href="http://www.tannerhelland.com/programming-directory/">Tanner Helland</a>.</p></div></div></section><section><h2><a id="2" data-toggle="collapse" role="button" href="#accordion-2" aria-expanded="true" aria-controls="accordion-2">Section 2</a></h2><hr><div id="accordion-2" class="collapse show"></div></section><section><h2><a id="3" data-toggle="collapse" role="button" href="#accordion-3" aria-expanded="true" aria-controls="accordion-3">Section 3</a></h2><hr><div id="accordion-3" class="collapse show"></div></section><section><h2><a id="4" data-toggle="collapse" role="button" href="#accordion-4" aria-expanded="true" aria-controls="accordion-4">Section 4</a></h2><hr><div id="accordion-4" class="collapse show"></div></section><section><h2><a id="5" data-toggle="collapse" role="button" href="#accordion-5" aria-expanded="true" aria-controls="accordion-5">Section 5</a></h2><hr><div id="accordion-5" class="collapse show"></div></section><section><h2><a id="6" data-toggle="collapse" role="button" href="#accordion-6" aria-expanded="true" aria-controls="accordion-6">Section 6</a></h2><hr><div id="accordion-6" class="collapse show"></div></section><section><h2><a id="7" data-toggle="collapse" role="button" href="#accordion-7" aria-expanded="true" aria-controls="accordion-7">Section 7</a></h2><hr><div id="accordion-7" class="collapse show"></div></section><section><h2><a id="8" data-toggle="collapse" role="button" href="#accordion-8" aria-expanded="true" aria-controls="accordion-8">Section 8</a></h2><hr><div id="accordion-8" class="collapse show"></div></section></main><div class="ad-space d-none d-xl-block col-xl-2"><div class="text-center"><h5>Ad1</h5><img src="images/150x100.png" alt="advertisement"><h5>Ad2</h5><img src="images/150x100.png" alt="advertisement"><h5>Ad3</h5><img src="images/150x100.png" alt="advertisement"><h5>Ad4</h5><img src="images/150x100.png" alt="advertisement"><h5>Ad5</h5><img src="images/150x100.png" alt="advertisement"><h5>Ad6</h5><img src="images/150x100.png" alt="advertisement"></div></div></div></div><footer class="text-center text-muted"><div class="license"><div><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img width="100" alt="CC BY-SA 4.0 License" style="border-width:0" src="images/cc-by-sa-4.svg"></a><br>Documentation is licensed under the <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0 License</a>.</div><div><a rel="license" href="https://www.gnu.org/licenses/agpl-3.0"><img width="80" alt="GNU AGPLv3 License" style="border-width:0" src="images/agpl-v3.svg"></a><br><a href="https://github.com/PictureElement/html5tech">Source code</a> is licensed under the <a rel="license" href="https://www.gnu.org/licenses/agpl-3.0">AGPL v3 License</a>.</div></div><div class="copyright">Design &amp; development by <a href="https://pictureelement.github.io/portfolio-2">PictureElement</a> (Marios Sofokleous).</div></footer></body></html>